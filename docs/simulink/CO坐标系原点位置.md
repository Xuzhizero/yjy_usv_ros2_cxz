# CO坐标系原点位置

## 结论

**坐标原点CO位于：船中（Midship）处的水线面上**

具体位置：
- **纵向（x）**：船体中部，距船首和船尾各1米
- **横向（y）**：船体中线
- **垂向（z）**：水线面（z=0为水面）

### 验证依据

1. **纵向对称性**：以船中（Midship）作为参考点，便于前后对称分析与建模
2. **垂向参考**：以设计水线面作为 \(z=0\) 的参考定义，便于静水力与水动力系数使用
3. **横向对称性**：rg_y = 0 确认了中线对称；双体/双浮体布置可按 \(y=\\pm y_{pont}\\) 表示
4. **物理合理性**：参数应以当前模型的变量文件为准（见下方“初始参数”）

这是船舶水动力建模中最常见的坐标系设置方式。

## 重要补充说明

### 坐标系的运动性质

**CO是船体坐标系（body-fixed frame），原点随船做6自由度运动。**

#### 关键理解

**"z=0为水线面"的正确含义**：
- 这是在**设计静态平衡状态**下的参考定义
- 表示CO原点选在了**设计水线面（DWL）**这个高度
- **并不是说CO的z坐标在惯性系中永远等于0**

#### 实际运动中的情况

当船体运动时：
- **升沉运动（heave）**：CO原点会相对惯性系上下移动
- **纵倾运动（pitch）**：CO原点会随船体旋转
- **横摇运动（roll）**：CO原点会随船体旋转
- **重心在CO系中的位置始终不变**：rg 为常量（见下方“初始参数”表格；这是固连在船体上的相对位置）

#### 为什么选择设计水线面作为z=0

1. **静水力计算便利**：静态平衡时，水面正好是z=0平面
2. **水动力分析参考**：水动力系数通常相对水线面定义
3. **工程习惯做法**：船舶工程的标准参考面

#### 物理意义澄清

- **CO原点固定在船体上**，坐标原点的三个坐标定义了原点在船体上的位置：
  - 纵向：船中位置
  - 横向：中线位置
  - 垂向：设计水线面位置
- **CO系随船运动**，相对惯性系（如NED系或大地系）的位置和姿态会不断变化
- **船体上各点在CO系中的坐标不变**，例如rg_z = -0.2恒定表示重心在CO原点下方0.2米

---

## 初始参数（large_vessel_params_260106.mat）

本节列出当前变量文件 `src/large_vessel_params_260106.mat` 中的关键初值（用于解释坐标系与建模参数的一致性）。

### 标量变量（节选）

| Name | Value |
|---|---:|
| L | 30.5 |
| B | 5.5 |
| T_design | 1.05 |
| m | 90300 |
| nabla | 88.09756097560975 |
| LCF | -2.21 |
| Aw_pont | 57.87375 |
| Aw_total | 115.7475 |
| B_pont | 2.75 |
| Cb_pont | 0.496 |
| Cw_pont | 0.69 |
| y_pont | 2.75 |
| I_T | 52.86 |
| I_L | 6502.06 |
| k_pos | 0.01108 |
| k_neg | 0.006445 |
| l1 | -1.005 |
| l2 | 1.005 |
| T_yaw | 18 |
| Umax | 10 |
| StopTime | 200 |
| trim_setpoint | 280 |

### 向量变量

#### rg (3x1)

| Index | Value |
|---:|---:|
| 1 | 2.21 |
| 2 | 0 |
| 3 | 0.5 |

#### xlimits (1x2)

| Index | Value |
|---:|---:|
| 1 | -110 |
| 2 | 110 |

### 矩阵变量

#### Ig_CG (3x3)

| Col1 | Col2 | Col3 |
|---:|---:|---:|
| 10.26432 | 0 | 0 |
| 0 | 13.75 | 0 |
| 0 | 0 | 13.75 |

#### waypoints_m (3x2)

| Col1 | Col2 |
|---:|---:|
| 0 | 0 |
| 150 | 0 |
| 200 | 0 |

### 关键说明

- 本节数值以 `large_vessel_params_260106.mat` 为准；如后续更新变量文件，应同步更新本表。
