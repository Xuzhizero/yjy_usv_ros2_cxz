# Water 水体参数模块分析

## 模块功能说明

**Water（水体参数）**模块提供有关环境水体介质的物理参数，以供船体水动力计算使用。主要的参数包括：

- **水密度 $\rho$：** 决定浮力大小和流体惯性力大小的关键参数。

- **（可能的）运动粘度 $\nu$：** 若模型考虑摩擦阻力详细计算，可能需要粘度来计算雷诺数等。但通常航行器阻力使用经验系数，粘度可不显式输出。

- **其他水质参数：** 诸如水温、盐度（影响密度）等，一般不会在常规船舶动力学仿真中细化，除非涉及推进器性能或声学。

在本模型中，Water模块的核心作用就是提供**水的密度**。密度参与多种力的计算：

### 浮力 $B$

$$B = \rho g V_{\text{disp}}$$

$V_{\text{disp}}$为排水体积。密度越大，产生相同排水体积所提供的浮力越大。因此在淡水（$\rho\approx1000$）中船舶吃水要比在海水（$\rho\approx1025$）中深一些以获得相同浮力。

### 附加质量力

附加质量的大小通常正比于密度，例如附加质量矩阵常表示为$\rho$乘以几何系数矩阵。因此$\rho$影响附加质量所产生的科氏力和惯性力。

### 阻力 $D$

阻尼阻力常见公式形如：

$$F_D = \frac{1}{2}\rho C_D A v^2$$

可见$\rho$直接成比例地影响阻力的大小。

### 横流力等

任何与水相对运动有关的力几乎都包含$\rho$，因为本质上来自流体动量改变。

Water模块将上述参数集中管理，使得更改介质（如模拟在淡水湖试验，将$\rho$改为1000）对所有相关力计算自动生效。

## 输入输出端口

### 输入

通常无动态输入。水体性质一般在仿真前由用户设定为常量。本模块可能允许通过上层场景配置在运行前修改密度值。

### 输出

主要输出**水密度**$\rho$（单位：kg/m³），通常为一个标量常数。如默认$\rho=1025$ kg/m³代表海水。如果模型考虑粘性或其他参数，可能另外输出：

- 水的运动粘度$\nu$或动力粘度$\mu$等，但在当前结构中未见明确使用，故可能未输出。
- 声速$c$，压强$P_{atm}$等在推进器或传感器模拟中有用的量，本模型未涉及即可忽略。

密度输出将被多个模块接收：

- **Hydrostatic**静力模块，用于计算浮力$B=\rho g V$。
- **Hydrodynamics/Damping**模块，用于计算阻力或摩擦力（如果基于流体力公式）。
- **Added Mass**相关计算，用于附加质量矩阵（一些模型将附加质量计算为$\rho$乘以系数矩阵和体积）。
- **Waves & Crossflow**模块，若涉及波浪力或横流力公式，也需要$\rho$。

## 核心参数与公式

Water模块自身并无复杂公式，只提供常量。但理解这些参数典型值和影响非常重要：

### 水密度 $\rho$

| 水体类型 | 密度范围 |
|----------|----------|
| 海水 | 约$1020\sim1029\ \text{kg/m}^3$（取1025常用） |
| 淡水 | 约$1000\ \text{kg/m}^3$（4℃时最大，20℃时~998） |

密度随温度盐度略变，但一般仿真取常数。若要高精度，可根据温度盐度公式计算$\rho$，但本模块 likely 直接给定一个值。

### 浮力计算

一艘船排水量$\Delta$（吨）在海水中会得到$B = \Delta \cdot 9.81\ \text{kN}$的浮力（因1吨质量重量约9.81kN），在淡水中浮力稍小（因同体积重量小）。所以在淡水同载重下需稍大排水体积。若仿真需考虑这种差异，只需改$\rho$即可。

### 阻力计算

例如船体纵向阻力$X_D$，线性阻尼模型可写成$X_D = -X_u u - X_{|u|} |u|u$，其中经验阻尼系数$X_{|u|}$通常包含$\rho$在内（来自拟合）。在半经验公式中常将$\rho$作为独立输入，则$X_D$计算用上$\rho$乘其它参数。

### 附加质量

例如某船横向附加质量$Y_{\dot{v}}$等通常报告为在水中的附加值。如果需要从无量纲系数算，$\rho$和物体尺寸会参与。

## 总结

通过Water模块设定$\rho$，可一键调整仿真的水环境。从物理意义看，这等价于在不同水体中运行船舶。
