# SSA模块分析

<div align="center">

![](https://cdn.nlark.com/yuque/0/2025/png/2408029/1752664397512-e5f82451-e89e-4109-a250-36d47171c750.png)

</div>

<div align="center">

![](https://cdn.nlark.com/yuque/0/2025/png/2408029/1752664409421-5547085d-b794-46ff-b5c5-b29e8ccc1d91.png)

</div>

## 提问

分析图中ssa模块的作用和机理

## 回答

`ssa`模块的唯一作用，就是把积分出来不断累加的欧拉角(通常是航向角 ψ)"折回"到主值区间 $[-\pi,\pi)$ 里，避免角度无限增大或减小。它的内部机理就是一个「先偏移 +π → 取模 2π → 再偏移 –π」的套路：

1. **偏移**：将输入角度 $\theta$ 与常数 π 相加，得到

$$
y_1 = \theta + \pi.
$$

2. **取模**：对 $y_1$ 做模运算

$$
y_2 = \text{mod}(y_1,\,2\pi),
$$

   这里的 mod(a, b) 会把 a "折叠"到 $[0,\,b)$ 区间。

3. **反偏移**：再从 $y_2$ 中减去 π，得到

$$
\theta = y_2 - \pi,
$$

   这就把结果拉回到 $[-\pi,\pi)$。

在 Simulink 里，你看到的就是

```plain
   +–––+      +-----+      +–––+
π ──▶│ + ◀──Angle──│mod│──▶│ - │──▶  angle_pipi
     +–––+           +-----+  ▲
       ▲           2·π       │
       └─────────────────────┘
```

+ **输入**：`angle` (例如 ψ，积分得到的累积欧拉角)
+ **输出**：`angle_pipi`(折回到 $[-\pi,\pi)$ 的等价角度)

这样做的好处是：

+ 保持角度在标准区间，方便后续显示和误差计算。
+ 避免数值过大导致的数值不稳定或仪表盘显示问题。

简单来说，`ssa` 就是一个「角度归一化」的工具块。
