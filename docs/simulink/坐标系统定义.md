# 坐标系统定义与说明

## 概述

本文档详细说明了 USV 仿真模型中使用的坐标系统定义、角度约定以及水流对船体的影响。

<div align="center">

![坐标系统示意图](https://cdn.nlark.com/yuque/0/2025/png/2408029/1755239198036-7d3b7b3e-5472-433e-8447-b86a46b556fd.png)

</div>

## 位置坐标定义

坐标系统采用以下定义：

**[south->north, west->east]**

- 第一个坐标轴：南 → 北方向
- 第二个坐标轴：西 → 东方向

## 与UE5坐标系的转换

### Simulink坐标系

Simulink采用的是 **NED（North-East-Down）右手坐标系**：
- X轴：指向北
- Y轴：指向东
- Z轴：指向下（垂直向下）

### UE5坐标系

UE5采用的是 **左手坐标系，Z轴朝上**：
- X轴方向
- Y轴方向
- Z轴：指向上（垂直向上）

### 坐标系差异

两个坐标系的差异主要体现在：
- **X和Y轴**：朝向重合
- **Z轴**：方向相反（Simulink的Z轴向下，UE5的Z轴向上）

### 坐标转换处理

由于Z轴方向相反，在Simulink与UE5进行数据交互时：
- 对Z坐标在发送前直接取反（幅值）
- 这种处理方式确保了两个系统之间的坐标正确映射
- 目前的实现对系统功能没有影响

## 角度初始值说明

**注意：角度单位采用弧度制**

### 水流角度定义

水流角度遵循 NED（North-East-Down）坐标系约定：

- **0度方向**：正北方向
- **旋转方向**：艏向角转角方向为逆时针
- **角度示例**：
  - 0度水流方向：对应正北方向
  - 90度水流方向：对应向东方向

## 水流对船体的影响

水流作用于船体后，船体运动最终会收敛到一个匀速状态。

### 场景一：船体初始运动趋势从右往左，水流从左往右

在此场景下，船体初始运动方向与水流方向相反，船体运动轨迹如下图所示：

<div align="center">

![水流影响场景一](https://cdn.nlark.com/yuque/0/2025/png/2408029/1755241293570-4cb3918e-3583-459b-8227-1bc13ed4ed9b.png)

</div>

### 场景二：船体初始运动趋势从右往左，水流从南往北

在此场景下，水流从南往北，与船体初始运动方向形成一定角度，船体运动轨迹如下图所示：

<div align="center">

![水流影响场景二](https://cdn.nlark.com/yuque/0/2025/png/2408029/1755241477887-1e27e011-1835-4e39-b03e-fe7ad7e31d7c.png)

</div>

## 总结

- 坐标系统：[南→北, 西→东]
- 角度单位：弧度制
- 水流角度参考：NED坐标系，正北为0度，逆时针旋转为正
- 水流影响：船体运动最终收敛至匀速状态
