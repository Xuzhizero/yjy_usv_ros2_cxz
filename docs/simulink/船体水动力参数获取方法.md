# 船体水动力参数获取方法

这些参数不是 "凭空" 给出的，而是需要通过船（或水下体）模型的几何和质量特性计算，以及水池试验/CFD 仿真和系统辨识来获得。下面按类别给出一个大致的思路：

---

## 1. 几何 & 静水特性

### 1.1 船体重心向量 rg = [x, y, z]

在 CAD 模型里或实船上，先测量出各部件质量和坐标，按质量加权求和：

$$\mathbf{r}_{\mathrm{CG}} = \frac{1}{M} \sum_i m_i \mathbf{r}_i$$

### 1.2 LCF（水线面浮心纵向偏移）

通过静水线剖面水面投影，计算浮心（CF）相对于坐标原点的纵向位置；常用三角剖分或工具软件（如 Hydrostatics 模块）直接输出。

---

## 2. 惯性 & 修正配载

### 2.1 惯性矩阵 lg_CG (3×3)

用 CAD 导出的"体密度分布"在 CG 点做积分：

$$I_{xx}=\int (y^2+z^2)\,\mathrm{d}m,\quad I_{xy}= -\int x\,y\,\mathrm{d}m,\dots$$

### 2.2 Δm_l（配载矩）

对于静态配载平衡（吃水修正），在模型上加载若干小砝码，测得吃水变化 $\Delta l$，对应总重量差 $\Delta m$，则

$$\Delta m_l = \Delta m \times \Delta l$$

### 2.3 l_T（初始吃水或杆长）

直接在静水中测量（或由几何模型在初始吃水下计算）

---

## 3. 阻尼 & 回复系数

### 3.1 κ（回复刚度缩放系数）

在小扰动下做静力线性回复力实验，通过曲线拟合得到刚度 $K$，再归一化成无量纲 $\kappa$

### 3.2 k_neg, k_pos（分段线性阻尼）

在模型舵角/横摇小幅来回测试中，记录回复力矩 $M(\varphi)$，分段线性回归得到正、负区间斜率

### 3.3 R44, R55, R66（六自由度阻尼比 ζ）

在水槽里做脉冲扰动试验（heave/roll/pitch），测量自由衰减曲线，拟合

$$\zeta = \frac{c}{2\sqrt{km}}$$

### 3.4 U_max（surge 最大线性阻尼速度）

对不同前进速度 $U$ 做水平拖曳试验，找出线性近似区间的最大 $U$

---

## 4. 自然周期 & 模式切换

### 4.1 T_yaw（偏航自然周期）

由阻尼矩 $I_{zz}$ 与偏yaw 回复刚度 $N_r$ 计算：

$$T_{yaw} = 2\pi \sqrt{\frac{I_{zz}}{N_r}}$$

### 4.2 R_switch_m（线性/非线性 yaw 阻尼切换速度）

在不同航速下做偏航响应实验，观察何时线性模型开始失效

---

## 5. 系统辨识与最终调优

- 如果你有整船的开环/闭环航行试验数据，也可以用**最小二乘**、**频域拟合**、**卡尔曼滤波**等方法对上述参数做二次修正。
- **trim_setpoint** 则是你的航向控制器希望维持的目标航向，一般由任务规划或导航需求直接给出（这里是 280°）。

---

### 工具推荐

- **CAD + Hydrostatics 模块**（Rhino+Hec2D、Maxsurf、WAMIT）
- **CFD 软件**（STAR-CCM+、OpenFOAM）
- **模型水池试验**（拖曳台、自由衰减实验台）
- **系统辨识工具箱**（MATLAB System Identification Toolbox）

---

**总结**：

1. 先做几何+静水计算，确定 CG、CF、惯量。
2. 做实验（或 CFD）测阻尼、回复刚度、自然周期。
3. 如有航行数据，用系统辨识进一步校正。
4. 控制目标（trim_setpoint）由任务需求决定。

按这个流程走，就能把表里那一堆数值一步步"算"/"测"出来。

---

# 浮筒船参数获取详解

<div align="center">

![](https://cdn.nlark.com/yuque/0/2025/png/2408029/1752672054180-06fd90fd-0977-4722-8c7b-f2e5a2d53532.png)

</div>

## 如何获取这些数值？

这些参数大体可以分成三类：

1. **几何/静水参数**（如 L、B、T、Aw_pont、B_pont、y_pont、Cb_pont、Cw_pont、LCF、rg、lg_CG、Δm·L、l_T）
2. **动力学/振动参数**（如 m、R44/R55/R66、T_yaw、Umax、R_switch_m、kappa、k_neg/k_pos）
3. **仿真配置**（如 IC、dt、trim_setpoint）

下面分别说明如何获得：

---

## 一、几何/静水参数

| 参数 | 获得方法 |
| --- | --- |
| **L、B、T** | 从 CAD 或设计图直接读取：<br>– L：船体总长；<br>– B：最大梁宽；<br>– T：初始吃水深度。 |
| **Aw_pont** | 水线面积 = CAD 中浮筒与水平面相交的轮廓面积，或用水线面系数 $C_w \times L \times B_{pont}$ 计算。 |
| **B_pont** | CAD 中浮筒最大横截面宽度。 |
| **y_pont、L1/L2** | CAD 里量浮筒重心在船体坐标系下的位置偏移。 |
| **Cb_pont** | 几何方形系数 = (浮筒真实排水体积) ÷ (L×B_pont×H)，<br>– 浮筒体积由 CAD 或网格模型（STL）计算。 |
| **Cw_pont** | 水线面系数 = (浮筒水线投影面积) ÷ (L×B_pont)，<br>– 投影面积同样由 CAD 或图形工具测定。 |
| **LCF** | 浮心位置：将 CAD 中排水面截面在船长方向的重心算出，再减去 CO 原点位置，即为 $x_{CF}$。 |
| **rg、lg_CG** | 重心/惯性矩阵：<br>– 重心 (rg) 可用 CAD "重心"功能或静态称重法（测各支点支力）标定；<br>– 惯性张量 lg_CG 也可用 CAD 质量属性直接导出。 |
| **Δm·L** | 横倾配载参数：实验量出所需横倾角，反推所加配载质量与位置；或者设计时按"重心移动量×总重"计算。 |
| **l_T** | 静水迭代初始猜值：常取 T 的近似值，迭代求解静水体积→吃水时给定即可，无需精准预先标定。 |

**小结**：几何/静水系数都可从船体 CAD/网格模型里导出，或按静水力学——轮廓面积、体积、重心一系列计算流程获取。

---

## 二、动力学/振动参数

| 参数 | 获得方法 |
| --- | --- |
| **m** | 真机称重，或 CAD 中直接导出"总质量"，再加上电池、设备实际重量。 |
| **R44/R55/R66** | 阻尼比 $\zeta$：可从模型试验（自由振荡/阻尼试验）中拟合得出，或查论文/手册中类似艇型的典型 $\zeta$ 值； |
| **T_yaw** | 偏航自然周期：<br>– 在水池里给艇体一个小偏航冲击，自由振荡，测得周期；<br>– 或者 CFD/数值模型计算。 |
| **Umax** | Surge 最大线性范围：<br>– 海上做推进试验测出最大平稳航速；<br>– 或者取设计航速/安全限速。 |
| **R_switch_m** | 横流模式切换速度：<br>– 从横流阻力曲线（试验或文献）中，找到线性不能再拟合的转折点即为阈值； |
| **kappa** | 弹性恢复斜率调节：<br>– 根据静水恢复力曲线（GM 曲线）进行曲线拟合，调整整体斜率； |
| **k_neg/k_pos** | 分段静水刚度：<br>– 在不同滚角下测量恢复力矩，拟合得到正负滚角的 $K_\varphi$； |

**小结**：动力学/振动参数需要借助**物理试验**（静摆振荡、自由振荡、海上试航）或**CFD/数值仿真**来拟合，也可参考同类型船只的公开数据。

---

## 三、仿真配置

| 参数 | 含义 | 获得方法 |
| --- | --- | --- |
| **IC** | 初始状态（速度、位置、姿态） | 按仿真场景需要手动设定或从日志中取**实测值**。 |
| **dt** | 各模块仿真步长/传感器采样周期 | 根据控制器、传感器的规格与实时仿真需求设置，如 IMU/GPS 100 ms，控制回路 50 ms 等。 |
| **trim_setpoint** | 航向目标角（°） | 具体任务或航路规划给定。 |

---

## 流程示例

1. **CAD →** 导出几何、体积、重心、惯性矩阵
2. **静水分析** → 计算 Cb_pont、Cw_pont、LCF、l_T
3. **模型试验/CFD** → 拟合 $\zeta$、T_yaw、横流切换速度等
4. **称重/海试** → 获取总质量 m、最大航速 Umax
5. **文档/手册** → 查阅同型艇数据作为初值
6. **设置 dt/IC/trim** → 根据控制器与任务需求手工配置

这样，就能完整地把工作区里的结构体和参数，按"几何→静水→动力学→仿真"四步，**系统化、可复现**地导入到 MATLAB/Simulink 中去。
